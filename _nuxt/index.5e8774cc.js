import{d as M,o as T,a9 as B,E as g,c as a,G as p,H as e,F as v,I,b as n,n as $,e as s,t as u,f as _,a7 as D,p as F,i as R,l as z}from"./entry.927c3cf4.js";import{s as E,r as y,m as b}from"./common.6d1fafea.js";import{L as N}from"./index.a3277113.js";import{u as V}from"./music.4349e3dc.js";import{R as j}from"./request.e75beec7.js";const c=d=>(F("data-v-920f7aa4"),d=d(),R(),d),q={class:"gap-[10px] h-[50px] px-[30px] flex items-end"},G=c(()=>s("span",{class:"text-[18px]"},"🎵 Music",-1)),H=[G],A={class:"flex flex-col min-h-[100px] h-max px-[30px] relative mt-[10px]",id:"music-container"},J=["onClick"],K={class:"flex gap-[20px]"},O={class:"text-[14px] font-bold"},P={class:"text-[13px] text-gray-500 mt-auto"},Q={class:"flex"},U={key:0,class:"text-[12px] bg-yellow-600 bg-opacity-20 text-yellow-600 p-[2px_4px] rounded-sm flex items-center gap-[3px]"},W=c(()=>s("span",{class:"text-[11px]"},"💰",-1)),X=c(()=>s("span",null,"Super Chat",-1)),Y=[W,X],Z={class:"ml-auto"},tt={key:0,class:"flex"},st={class:"text-gray-500 text-[10px]"},et={class:"absolute bottom-0 left-0 right-0 h-[1px]"},ot=c(()=>s("div",{class:"absolute h-full left-0 w-full bg-gray-200 dark:bg-gray-800"},null,-1)),it=c(()=>s("div",{class:"run-dot bg-green-500 h-[7px] w-[7px] rounded-full absolute right-0 translate-x-[50%]"},null,-1)),at=[it],nt=c(()=>s("div",{class:"h-[30px]"},null,-1)),lt=M({__name:"index",setup(d){const o=V(),L=["爱不会绝迹","左手指月"];T(()=>{(!o.musics||o.musics.length===0)&&k(),E("✨ 小猫 の 歌单")});const k=()=>{const t=N.show({element:"#music-container",hasBg:!1});j.post({url:"/api/music/list"}).then(r=>{o.musics=r||[]}).finally(()=>{t.close()})},w=t=>{const r=Math.floor(t/60),i=Math.floor(t%60);return`${r<10?"0"+r:r}:${i<10?"0"+i:i}`};return B(()=>{}),(t,r)=>{const i=g("motion"),S=g("auto-animate");return n(),a(v,null,[p((n(),a("div",q,H)),[[i,("rightToLeft"in t?t.rightToLeft:e(y))()]]),p((n(),a("div",A,[(n(!0),a(v,null,I(e(o).musics,(l,C)=>{var h,x,m,f;return n(),a("div",{class:$(["flex items-center text-[14px] gap-[15px] py-[15px] relative snap-start transition-all duration-150 px-[10px] cursor-pointer","dark:hover:bg-blue-900 dark:hover:bg-opacity-10","hover:bg-green-800 hover:bg-opacity-10"]),key:C,onClick:rt=>e(o).play(l)},[s("div",K,[s("span",O,u(l.title),1),s("span",P,u(l.artist&&l.artist.join(" & ")),1)]),s("div",Q,[L.includes(l.title)?(n(),a("div",U,Y)):_("",!0)]),s("div",Z,[((h=e(o).current)==null?void 0:h.title)===l.title?p((n(),a("div",tt,[s("span",st,u(w(((x=e(o).current)==null?void 0:x.duration)||0)),1)])),[[i,("musicLine"in t?t.musicLine:e(b))()]]):_("",!0)]),s("div",et,[ot,((m=e(o).current)==null?void 0:m.title)===l.title?p((n(),a("div",{key:0,class:"bg-green-500 absolute left-0 h-full flex items-center transition-all duration-10",style:D({width:`${(f=e(o).current)==null?void 0:f.progress}%`})},at,4)),[[i,("musicLine"in t?t.musicLine:e(b))()]]):_("",!0)])],8,J)}),128))])),[[S],[i,("rightToLeft"in t?t.rightToLeft:e(y))()]]),nt],64)}}});const ht=z(lt,[["__scopeId","data-v-920f7aa4"]]);export{ht as default};
