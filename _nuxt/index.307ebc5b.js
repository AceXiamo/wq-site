import{s as C,L as T,u as B}from"./common.684a241f.js";import{g as I,I as $,X as F,R as g,c as a,S as p,h as s,F as v,U as z,o as n,n as D,a as e,t as u,z as _,V as E,p as V,f as N,_ as R}from"./entry.4af28d24.js";import{r as y,m as b}from"./motions.22830312.js";import{u as j}from"./music.ed38d2c1.js";import"./asyncData.4c6af5f4.js";const r=d=>(V("data-v-0eefb578"),d=d(),N(),d),q={class:"gap-[10px] h-[50px] px-[30px] flex items-end"},K=r(()=>e("span",{class:"text-[18px]"},"🎵 Music",-1)),U=[K],X={class:"flex flex-col min-h-[100px] h-max px-[30px] relative mt-[10px]",id:"music-container"},A=["onClick"],G={class:"flex gap-[20px]"},H={class:"text-[14px] font-bold"},J={class:"text-[13px] text-gray-500 mt-auto"},O={class:"flex"},P={key:0,class:"text-[12px] bg-yellow-600 bg-opacity-20 text-yellow-600 p-[2px_4px] rounded-sm flex items-center gap-[3px]"},Q=r(()=>e("span",{class:"text-[11px]"},"💰",-1)),W=r(()=>e("span",null,"Super Chat",-1)),Y=[Q,W],Z={class:"ml-auto"},tt={key:0,class:"flex"},et={class:"text-gray-500 text-[10px]"},st={class:"absolute bottom-0 left-0 right-0 h-[1px]"},ot=r(()=>e("div",{class:"absolute h-full left-0 w-full bg-gray-200 dark:bg-gray-800"},null,-1)),it=r(()=>e("div",{class:"run-dot bg-green-500 h-[7px] w-[7px] rounded-full absolute right-0 translate-x-[50%]"},null,-1)),at=[it],nt=r(()=>e("div",{class:"h-[30px]"},null,-1)),lt=I({__name:"index",setup(d){const o=j(),L=["爱不会绝迹"];$(()=>{(!o.musics||o.musics.length===0)&&k(),C("歌单")});const k=()=>{const t=T.show({element:"#music-container",hasBg:!1});B("/api/music/list",{method:"post"},"$rrq1KElE1M").then(c=>{o.musics=c.data.value||[]}).finally(()=>{t.close()})},S=t=>{const c=Math.floor(t/60),i=Math.floor(t%60);return`${c<10?"0"+c:c}:${i<10?"0"+i:i}`};return F(()=>{}),(t,c)=>{const i=g("motion"),w=g("auto-animate");return n(),a(v,null,[p((n(),a("div",q,U)),[[i,("rightToLeft"in t?t.rightToLeft:s(y))()]]),p((n(),a("div",X,[(n(!0),a(v,null,z(s(o).musics,(l,M)=>{var h,x,m,f;return n(),a("div",{class:D(["flex items-center text-[14px] gap-[15px] py-[15px] relative snap-start transition-all duration-150 px-[10px] cursor-pointer","dark:hover:bg-blue-900 dark:hover:bg-opacity-10","hover:bg-green-800 hover:bg-opacity-10"]),key:M,onClick:ct=>s(o).play(l)},[e("div",G,[e("span",H,u(l.title),1),e("span",J,u(l.artist&&l.artist.join(" & ")),1)]),e("div",O,[L.includes(l.title)?(n(),a("div",P,Y)):_("",!0)]),e("div",Z,[((h=s(o).current)==null?void 0:h.title)===l.title?p((n(),a("div",tt,[e("span",et,u(S(((x=s(o).current)==null?void 0:x.duration)||0)),1)])),[[i,("musicLine"in t?t.musicLine:s(b))()]]):_("",!0)]),e("div",st,[ot,((m=s(o).current)==null?void 0:m.title)===l.title?p((n(),a("div",{key:0,class:"bg-green-500 absolute left-0 h-full flex items-center transition-all duration-10",style:E({width:`${(f=s(o).current)==null?void 0:f.progress}%`})},at,4)),[[i,("musicLine"in t?t.musicLine:s(b))()]]):_("",!0)])],8,A)}),128))])),[[w],[i,("rightToLeft"in t?t.rightToLeft:s(y))()]]),nt],64)}}});const ht=R(lt,[["__scopeId","data-v-0eefb578"]]);export{ht as default};
