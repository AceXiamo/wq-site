import{d as M,o as T,aa as B,E as g,b as a,c as n,G as p,H as e,F as v,a7 as I,n as $,e as s,t as u,f as _,a8 as D,p as F,i as R,k as z}from"./entry.89a40982.js";import{r as y,m as b}from"./motions.22830312.js";import{s as E,L as N,R as V}from"./common.008c6c86.js";import{u as j}from"./music.56ddff65.js";const r=d=>(F("data-v-01477102"),d=d(),R(),d),q={class:"gap-[10px] h-[50px] px-[30px] flex items-end"},G=r(()=>s("span",{class:"text-[18px]"},"🎵 Music",-1)),H=[G],A={class:"flex flex-col min-h-[100px] h-max px-[30px] relative mt-[10px]",id:"music-container"},J=["onClick"],K={class:"flex gap-[20px]"},O={class:"text-[14px] font-bold"},P={class:"text-[13px] text-gray-500 mt-auto"},Q={class:"flex"},U={key:0,class:"text-[12px] bg-yellow-600 bg-opacity-20 text-yellow-600 p-[2px_4px] rounded-sm flex items-center gap-[3px]"},W=r(()=>s("span",{class:"text-[11px]"},"💰",-1)),X=r(()=>s("span",null,"Super Chat",-1)),Y=[W,X],Z={class:"ml-auto"},tt={key:0,class:"flex"},st={class:"text-gray-500 text-[10px]"},et={class:"absolute bottom-0 left-0 right-0 h-[1px]"},ot=r(()=>s("div",{class:"absolute h-full left-0 w-full bg-gray-200 dark:bg-gray-800"},null,-1)),it=r(()=>s("div",{class:"run-dot bg-green-500 h-[7px] w-[7px] rounded-full absolute right-0 translate-x-[50%]"},null,-1)),at=[it],nt=r(()=>s("div",{class:"h-[30px]"},null,-1)),lt=M({__name:"index",setup(d){const o=j(),L=["爱不会绝迹"];T(()=>{(!o.musics||o.musics.length===0)&&k(),E("歌单")});const k=()=>{const t=N.show({element:"#music-container",hasBg:!1});V.post({url:"/api/music/list"}).then(c=>{o.musics=c||[]}).finally(()=>{t.close()})},w=t=>{const c=Math.floor(t/60),i=Math.floor(t%60);return`${c<10?"0"+c:c}:${i<10?"0"+i:i}`};return B(()=>{}),(t,c)=>{const i=g("motion"),S=g("auto-animate");return a(),n(v,null,[p((a(),n("div",q,H)),[[i,("rightToLeft"in t?t.rightToLeft:e(y))()]]),p((a(),n("div",A,[(a(!0),n(v,null,I(e(o).musics,(l,C)=>{var h,x,m,f;return a(),n("div",{class:$(["flex items-center text-[14px] gap-[15px] py-[15px] relative snap-start transition-all duration-150 px-[10px] cursor-pointer","dark:hover:bg-blue-900 dark:hover:bg-opacity-10","hover:bg-green-800 hover:bg-opacity-10"]),key:C,onClick:ct=>e(o).play(l)},[s("div",K,[s("span",O,u(l.title),1),s("span",P,u(l.artist&&l.artist.join(" & ")),1)]),s("div",Q,[L.includes(l.title)?(a(),n("div",U,Y)):_("",!0)]),s("div",Z,[((h=e(o).current)==null?void 0:h.title)===l.title?p((a(),n("div",tt,[s("span",st,u(w(((x=e(o).current)==null?void 0:x.duration)||0)),1)])),[[i,("musicLine"in t?t.musicLine:e(b))()]]):_("",!0)]),s("div",et,[ot,((m=e(o).current)==null?void 0:m.title)===l.title?p((a(),n("div",{key:0,class:"bg-green-500 absolute left-0 h-full flex items-center transition-all duration-10",style:D({width:`${(f=e(o).current)==null?void 0:f.progress}%`})},at,4)),[[i,("musicLine"in t?t.musicLine:e(b))()]]):_("",!0)])],8,J)}),128))])),[[S],[i,("rightToLeft"in t?t.rightToLeft:e(y))()]]),nt],64)}}});const _t=z(lt,[["__scopeId","data-v-01477102"]]);export{_t as default};
